<div class="container">
  <p class="fs-1 fw-bold text-center mt-2"><%= @article.title %></p>
  <% if @article.image.attached? %>
    <div class="card">
      <%= image_tag @article.image %>
    </div>
  <% end %>

  <p class="fs-5 mt-4 p-2"><%= @article.body %></p>

  <p class="fs-4 mt-4">Comments: </p>
  <% @article.comments.order(created_at: :desc).each do |article| %>
    <div class="row">
      <div class="col-6">
      <div class="card p-1 mt-1">
        <div class="card-header">
          <small>
            By <%= link_to article.user.username, profile_path(article.user.username), class: "text-decoration-none" %> 
            <%= time_ago_in_words article.created_at %> ago
          </small>
        </div>
        <div class="card-body">
          <%= article.body %>
        </div>
      </div>
      </div>
    </div>
  <% end %>

  <p class="fs-4 mt-3">Add comment: </p>
  <%= render partial: "comments/form", locals: { article_id: @article.id, user_id: current_user.id} %>

  <div class="row mb-3">
    <div class="col-3">
      <% if current_user.id == @article.user_id %>
        <div class="list-group mt-3">
          <div class="list-group-item"><%= link_to "Edit", edit_article_path(@article), class: "text-decoration-none" %> </div>
          <div class="list-group-item"><%= link_to "Destroy", article_path(@article), class: "text-decoration-none",
                          method: :delete,
                          data: { confirm: "Are you sure?" } %></div>
        </div>
      <% end %>
    </div>
  </div>

</div>